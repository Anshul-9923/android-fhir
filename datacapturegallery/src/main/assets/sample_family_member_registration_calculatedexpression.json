{
  "resourceType": "Questionnaire",
  "id": "family-member-registration",
  "language": "en",
  "status": "active",
  "item": [
    {
      "linkId": "bio",
      "type": "group",
      "item": [
        {
          "linkId": "PR-birth-date",
          "type": "date",
          "required": true,
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
              "valueExpression": {
                "language": "text/fhirpath",
                "expression": "today() - (%resource.repeat(item).where(linkId='PR-age').answer.value.toInteger()*365)"
              }
            }
          ],
          "text": "Date of Birth"
        },
        {
          "linkId": "PR-age",
          "type": "integer",
          "required": true,
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
              "valueExpression": {
                "language": "text/fhirpath",
                "expression": "today().toString().substring(0, 4).toInteger() - %resource.repeat(item).where(linkId='PR-birth-date').answer.value.toString().substring(0, 4).toInteger()"
              }
            }
          ],
          "text": "Age"
        }
      ]
    }
  ]
}